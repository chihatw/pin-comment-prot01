# ピン・コメント機能付き画像ビューア

このアプリは、画像上に「ピン」（円）を立ててコメントや注釈を付けることができる Next.js 製のサンプルです。主に画像へのフィードバックや注釈、レビュー用途を想定しています。

## 主な特徴

- **画像上へのピン（円）の追加・移動・削除**
  - 編集モードで画像上をドラッグして円（ピン）を描画できます。
  - 追加した円はドラッグで移動できます。
  - 円を右クリックで削除できます。
- **ピンごとのコメント管理**
  - 各ピン（円）にコメントを付与できます。
  - コメントはサイドパネルで一覧・編集・削除が可能です。
- **モード切替**
  - 「表示モード」ではピンの編集ができず、画像の閲覧・ズーム・パンのみ可能です。
  - 「編集モード」ではピンの追加・移動・削除ができます。
- **画像のズーム・パン**
  - スライダーやマウス操作で画像の拡大・縮小、ドラッグによる移動が可能です。
- **Undo/Redo**
  - ピンの編集操作は Undo/Redo で元に戻すことができます。
- **Supabase 連携**
  - ピンやコメント情報は Supabase に保存され、永続化されます。
- **Vercel 等でのデプロイ容易**
  - Next.js ベースのため、Vercel などで簡単にデプロイできます。

## 仕様メモ

- ピン（円）の座標や半径は画像全体に対するパーセンテージ（%）で管理されており、画像サイズが変わっても位置・大きさが維持されます。
- 型定義や座標系の詳細は `app/types.ts` のコメントを参照してください。

---

このアプリは、画像上に「ピン」を立ててコメントや注釈を付けることができる Next.js 製のサンプルです。

## 主な機能

- **画像のズーム・パン**
  - スライダーやマウス操作で画像の拡大・縮小、ドラッグによる移動が可能です。
- **ピン（円）の追加・移動・削除**
  - 「編集モード」に切り替えると、画像上をドラッグして円（ピン）を描画できます。
  - 追加した円はドラッグで移動できます。
  - 円を右クリックで削除できます。
- **モード切替**
  - 「表示モード」ではピンの編集ができず、画像の閲覧・ズーム・パンのみ可能です。
  - 「編集モード」ではピンの追加・移動・削除ができます。
- **リセットボタン**
  - 画像の表示位置・ズームを初期状態に戻せます。

## 使い方

1. 開発サーバーを起動

   ```bash
   npm run dev
   # または
   yarn dev
   # または
   pnpm dev
   # または
   bun
   ```

2. ブラウザで [http://localhost:3000](http://localhost:3000) を開く

3. 画面上部のスイッチで「表示モード」「編集モード」を切り替え

4. 編集モードで画像上をドラッグしてピンを追加、ピンをドラッグで移動、右クリックで削除

## 技術スタック

- Next.js
- TypeScript

## デプロイ

[Vercel](https://vercel.com/) などで簡単にデプロイできます。

---

ご意見・ご要望は Issue までどうぞ。
